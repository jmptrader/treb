/**
 * 
 * This file is part of TREB.
 *
 * TREB is free software: you can redistribute it and/or modify it under the 
 * terms of the GNU General Public License as published by the Free Software 
 * Foundation, either version 3 of the License, or (at your option) any 
 * later version.
 *
 * TREB is distributed in the hope that it will be useful, but WITHOUT ANY 
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS 
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more 
 * details.
 *
 * You should have received a copy of the GNU General Public License along 
 * with Foobar. If not, see <https://www.gnu.org/licenses/>. 
 *
 * Copyright 2022 trebco, llc. 
 * info@treb.app
 * 
 */

.treb-main {

  /* 
   * new: we need the rendering buffer to inherit font size. so 
   * we add it as a child of contents, but it's not displayed.
   * still seems to paint OK.
   */
  .treb-buffer-canvas {
    position: absolute;
    display: none;
  }

  .treb-grid {

    &.grid-layout {

      display: grid;
      grid-template-columns: 100px auto;
      grid-template-rows: 20px auto;

      .tile-cover {

        /** specific layout for main grid cover */
        &.grid-cover {
          grid-row-start: 2;
          grid-row-end: 3;
          grid-column-start: 2;
          grid-column-end: 3;
        }

        /** specific layout for column header cover */
        &.column-header-cover {
          grid-row-start: 1;
          grid-row-end: 2;
          grid-column-start: 2;
          grid-column-end: 3;
          position: -webkit-sticky;
          position: sticky;
          top: 0px;
        }

        /** specific layout for row header cover */
        &.row-header-cover {
          grid-row-start: 2;
          grid-row-end: 3;
          grid-column-start: 1;
          grid-column-end: 2;
          position: -webkit-sticky;
          position: sticky;
          left: 0px;
        }
      }

      /*
      .annotation-container {
        position: absolute;
        top: 0px;
        left: 0px;

        .annotation {
          position: absolute;
          overflow: hidden;
        }
      }
      */
      
      /** selection stacks over the grid but under the cover */
      .grid-selection {
        grid-row-start: 1;
        grid-row-end: 2;
        grid-column-start: 1;
        grid-column-end: 2;
      }

      /** corner node to cover headers as they scroll across/down */
      .corner {
        grid-row-start: 1;
        grid-row-end: 2;
        grid-column-start: 1;
        grid-column-end: 2;
        position: -webkit-sticky;
        position: sticky;
      }

      /** contains row header tiles */
      .left-header {
        grid-row-start: 2;
        grid-row-end: 3;
        grid-column-start: 1;
        grid-column-end: 2;
        position: -webkit-sticky;
        position: sticky;
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto;
      }

      /** contains column header tiles */
      .top-header {
        grid-row-start: 1;
        grid-row-end: 2;
        grid-column-start: 2;
        grid-column-end: 3;
        position: -webkit-sticky;
        position: sticky;
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto;
      }

      /** contains main grid tiles */
      .contents {
        grid-row-start: 2;
        grid-row-end: 3;
        grid-column-start: 2;
        grid-column-end: 3;
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto;
      }

    }    

  }
}